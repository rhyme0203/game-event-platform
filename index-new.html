<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŸ­í‚¤ë¹¤ì“° - í–‰ìš´ì„ ì¡ì•„ë¼!</title>
  <link rel="stylesheet" href="assets/css/common.css">
  <link rel="stylesheet" href="assets/css/ads.css">
  <link rel="stylesheet" href="assets/css/point-system.css">
  
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8451876651536601"
       crossorigin="anonymous"></script>
  
  <!-- AdSense ì½”ë“œ ìŠ¤ë‹ˆí« -->
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-8451876651536601",
      enable_page_level_ads: true
    });
  </script>
  
  <style>
    /* ë©”ì¸ ì»¨í…Œì´ë„ˆ - ëª¨ë°”ì¼ ì›¹ ìµœì í™” */
    .main-container {
      max-width: 414px;
      margin: 0 auto;
      background: #f8f9fa;
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    /* í—¤ë” ì„¹ì…˜ */
    .main-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .main-header::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { transform: translateX(-100%) translateY(-100%); }
      50% { transform: translateX(100%) translateY(100%); }
    }

    .main-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 8px;
      position: relative;
      z-index: 1;
    }

    .main-subtitle {
      font-size: 14px;
      opacity: 0.9;
      position: relative;
      z-index: 1;
    }

    /* í¬ì¸íŠ¸ í‘œì‹œ ì„¹ì…˜ */
    .points-display {
      background: white;
      margin: -20px 20px 20px 20px;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      position: relative;
      z-index: 10;
    }

    .points-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .points-label {
      font-size: 14px;
      color: #666;
      font-weight: 500;
    }

    .points-amount {
      font-size: 20px;
      font-weight: bold;
      color: #28a745;
    }

    .points-actions {
      display: flex;
      gap: 8px;
    }

    .points-btn {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 6px;
      padding: 6px 12px;
      font-size: 12px;
      color: #666;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .points-btn:hover {
      background: #e9ecef;
    }

    /* ê²Œì„ ê·¸ë¦¬ë“œ - ëª¨ë°”ì¼ ìµœì í™” */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      padding: 20px;
    }

    .game-item {
      background: white;
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border: 1px solid #e9ecef;
      position: relative;
      overflow: hidden;
    }

    .game-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .game-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea, #764ba2);
    }

    .game-icon {
      font-size: 32px;
      margin-bottom: 12px;
      display: block;
    }

    .game-name {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #333;
    }

    .game-desc {
      font-size: 11px;
      color: #666;
      line-height: 1.4;
    }

    /* ì¶œì„ì²´í¬ ì„¹ì…˜ */
    .attendance-section {
      background: white;
      margin: 0 20px 20px 20px;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .attendance-title {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin-bottom: 12px;
    }

    .attendance-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .attendance-stats {
      font-size: 12px;
      color: #666;
    }

    .attendance-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 20px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      width: 100%;
      justify-content: center;
    }

    .attendance-btn:hover {
      transform: scale(1.05);
    }

    .attendance-btn:disabled {
      background: #6c757d;
      cursor: not-allowed;
      transform: none;
    }

    /* ì •ë³´ ë°•ìŠ¤ */
    .info-box {
      background: white;
      margin: 0 20px 20px 20px;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .info-title {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin-bottom: 12px;
    }

    .info-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .info-list li {
      font-size: 12px;
      color: #666;
      margin-bottom: 8px;
      padding-left: 16px;
      position: relative;
    }

    .info-list li::before {
      content: 'âœ…';
      position: absolute;
      left: 0;
    }

    /* ë°˜ì‘í˜• ë””ìì¸ */
    @media (max-width: 375px) {
      .games-grid {
        grid-template-columns: 1fr;
        gap: 8px;
        padding: 16px;
      }
      
      .game-item {
        padding: 16px;
      }
      
      .game-icon {
        font-size: 28px;
      }
    }

    /* ë‹¤í¬ ëª¨ë“œ */
    @media (prefers-color-scheme: dark) {
      .main-container {
        background: #1a1a1a;
      }
      
      .points-display,
      .attendance-section,
      .info-box,
      .game-item {
        background: #2d2d2d;
        border-color: #404040;
      }
      
      .game-name,
      .attendance-title,
      .info-title {
        color: white;
      }
      
      .game-desc,
      .attendance-stats,
      .info-list li {
        color: #ccc;
      }
    }
  </style>
</head>
<body>
  <div class="main-container">
    <!-- í—¤ë” ì„¹ì…˜ -->
    <div class="main-header">
      <h1 class="main-title">ğŸ° ëŸ­í‚¤ë¹¤ì“°</h1>
      <p class="main-subtitle">í–‰ìš´ì„ ì¡ì•„ë¼! ë‹¤ì–‘í•œ ê²Œì„ìœ¼ë¡œ ìƒí’ˆì„ íšë“í•˜ì„¸ìš”</p>
    </div>

    <!-- í¬ì¸íŠ¸ í‘œì‹œ ì„¹ì…˜ -->
    <div class="points-display">
      <div class="points-info">
        <span class="points-label">ë‚´ í¬ì¸íŠ¸</span>
        <span class="points-amount" id="currentPoints">0P</span>
      </div>
      <div class="points-actions">
        <button class="points-btn" onclick="showPointHistory()">íˆìŠ¤í† ë¦¬</button>
        <button class="points-btn" onclick="goToOfferwall()">ì ë¦½í•˜ê¸°</button>
      </div>
    </div>

    <!-- ì¶œì„ì²´í¬ ì„¹ì…˜ -->
    <div class="attendance-section">
      <h3 class="attendance-title">ğŸ“… ì¶œì„ì²´í¬</h3>
      <div class="attendance-info">
        <div class="attendance-stats">
          <div>ì—°ì† ì¶œì„: <span id="consecutiveDays">0</span>ì¼</div>
          <div>ì´ ì¶œì„: <span id="totalDays">0</span>ì¼</div>
        </div>
      </div>
      <button class="attendance-btn" id="attendanceBtn" onclick="checkAttendance()">
        <span class="btn-text">ì¶œì„ì²´í¬</span>
        <span class="btn-icon">âœ…</span>
      </button>
    </div>

    <!-- ê²Œì„ ê·¸ë¦¬ë“œ -->
    <div class="games-grid">
      <a href="games/roulette.html" class="game-item">
        <span class="game-icon">ğŸ¡</span>
        <div class="game-name">ë£°ë ›</div>
        <div class="game-desc">ëŒì•„ê°€ëŠ” ë£°ë ›ìœ¼ë¡œ í–‰ìš´ì˜ ìƒí’ˆì„ ë°›ì•„ë³´ì„¸ìš”</div>
      </a>

      <a href="games/slot.html" class="game-item">
        <span class="game-icon">ğŸ°</span>
        <div class="game-name">ìŠ¬ë¡¯ë¨¸ì‹ </div>
        <div class="game-desc">3ê°œì˜ ë¦´ì„ ëŒë ¤ ê°™ì€ ê·¸ë¦¼ì„ ë§ì¶°ë³´ì„¸ìš”</div>
      </a>

      <a href="games/capsule.html" class="game-item">
        <span class="game-icon">ğŸ”®</span>
        <div class="game-name">ìº¡ìŠë½‘ê¸°</div>
        <div class="game-desc">ì•Œë¡ë‹¬ë¡í•œ ìº¡ìŠ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ë³´ì„¸ìš”</div>
      </a>

      <a href="games/scratch.html" class="game-item">
        <span class="game-icon">ğŸ«</span>
        <div class="game-name">ìŠ¤í¬ë˜ì¹˜</div>
        <div class="game-desc">ê¸ì–´ì„œ ìˆ¨ê²¨ì§„ ìƒí’ˆì„ í™•ì¸í•˜ì„¸ìš”</div>
      </a>

      <a href="offerwall.html" class="game-item" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <span class="game-icon">ğŸ’°</span>
        <div class="game-name">í¬ì¸íŠ¸ ì ë¦½</div>
        <div class="game-desc">ë¯¸ì…˜ì„ ì™„ë£Œí•˜ê³  í¬ì¸íŠ¸ë¥¼ ëª¨ì•„ë³´ì„¸ìš”</div>
      </a>
    </div>

    <!-- ì •ë³´ ë°•ìŠ¤ -->
    <div class="info-box">
      <h3 class="info-title">ğŸ’¡ ì´ëŸ° ê¸°ëŠ¥ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤</h3>
      <ul class="info-list">
        <li>ë‹¤ì–‘í•œ ê²Œì„ íƒ€ì… ì§€ì› (ë£°ë ›, ìŠ¬ë¡¯, ìº¡ìŠ, ìŠ¤í¬ë˜ì¹˜ ë“±)</li>
        <li>ì‹¤ì‹œê°„ í¬ì¸íŠ¸ ì ë¦½ ì‹œìŠ¤í…œ</li>
        <li>ì¶œì„ì²´í¬ ë³´ë„ˆìŠ¤</li>
        <li>ëª¨ë°”ì¼ ì›¹ ìµœì í™”</li>
        <li>AdSense ê´‘ê³  ì§€ì›</li>
      </ul>
    </div>
  </div>

  <!-- í¬ì¸íŠ¸ ì‹œìŠ¤í…œ -->
  <script src="assets/js/point-system.js"></script>
  <script src="assets/js/admin-integration.js"></script>
  <script src="assets/js/github-db.js"></script>
  
  <script>
    // ì¶œì„ì²´í¬ ë°ì´í„°
    let attendanceData = {
      lastCheckDate: null,
      totalDays: 0,
      consecutiveDays: 0
    };

    // í¬ì¸íŠ¸ ì—…ë°ì´íŠ¸
    function updatePoints() {
      const currentPoints = document.getElementById('currentPoints');
      if (currentPoints && window.pointSystem) {
        currentPoints.textContent = window.pointSystem.getPoints().toLocaleString() + 'P';
      }
    }

    // í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ í‘œì‹œ
    function showPointHistory() {
      if (window.pointSystem) {
        window.pointSystem.showHistory();
      }
    }

    // ì˜¤í¼ì›”ë¡œ ì´ë™
    function goToOfferwall() {
      window.location.href = 'offerwall.html';
    }

    // ì¶œì„ì²´í¬ í•¨ìˆ˜
    function checkAttendance() {
      const today = new Date();
      const todayStr = today.toDateString();
      
      // ì´ë¯¸ ì˜¤ëŠ˜ ì¶œì„ì²´í¬ í–ˆëŠ”ì§€ í™•ì¸
      if (attendanceData.lastCheckDate === todayStr) {
        alert('ì´ë¯¸ ì˜¤ëŠ˜ ì¶œì„ì²´í¬ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!');
        return;
      }

      // ì¶œì„ì²´í¬ ë°ì´í„° ì—…ë°ì´íŠ¸
      attendanceData.lastCheckDate = todayStr;
      attendanceData.totalDays++;
      
      // í¬ì¸íŠ¸ ì§€ê¸‰
      if (window.pointSystem) {
        window.pointSystem.addPoints(50, 'ì¶œì„ì²´í¬');
      }
      
      // ì—°ì† ì¶œì„ì¼ìˆ˜ ê³„ì‚°
      const yesterday = new Date(today);
      yesterday.setDate(yesterday.getDate() - 1);
      const yesterdayStr = yesterday.toDateString();
      
      if (attendanceData.lastCheckDate === yesterdayStr) {
        attendanceData.consecutiveDays++;
      } else {
        attendanceData.consecutiveDays = 1;
      }
      
      // ì—°ì† ì¶œì„ ë³´ë„ˆìŠ¤
      if (attendanceData.consecutiveDays >= 7) {
        if (window.pointSystem) {
          window.pointSystem.addPoints(100, '7ì¼ ì—°ì† ì¶œì„ ë³´ë„ˆìŠ¤');
        }
        alert('7ì¼ ì—°ì† ì¶œì„ ë³´ë„ˆìŠ¤ 100Pê°€ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤!');
      } else if (attendanceData.consecutiveDays >= 3) {
        if (window.pointSystem) {
          window.pointSystem.addPoints(30, '3ì¼ ì—°ì† ì¶œì„ ë³´ë„ˆìŠ¤');
        }
        alert('3ì¼ ì—°ì† ì¶œì„ ë³´ë„ˆìŠ¤ 30Pê°€ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤!');
      }
      
      // ë°ì´í„° ì €ì¥
      localStorage.setItem('attendanceData', JSON.stringify(attendanceData));
      
      // UI ì—…ë°ì´íŠ¸
      updateAttendanceUI();
      updatePoints();
      
      alert(`ì¶œì„ì²´í¬ ì™„ë£Œ! +50P\nì—°ì† ì¶œì„: ${attendanceData.consecutiveDays}ì¼\nì´ ì¶œì„: ${attendanceData.totalDays}ì¼`);
    }

    // ì¶œì„ì²´í¬ UI ì—…ë°ì´íŠ¸
    function updateAttendanceUI() {
      document.getElementById('consecutiveDays').textContent = attendanceData.consecutiveDays;
      document.getElementById('totalDays').textContent = attendanceData.totalDays;
      
      const btn = document.getElementById('attendanceBtn');
      if (attendanceData.lastCheckDate === new Date().toDateString()) {
        btn.disabled = true;
        btn.innerHTML = '<span class="btn-text">ì¶œì„ì™„ë£Œ</span><span class="btn-icon">âœ…</span>';
      }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
      // ì¶œì„ì²´í¬ ë°ì´í„° ë¡œë“œ
      const savedData = localStorage.getItem('attendanceData');
      if (savedData) {
        attendanceData = JSON.parse(savedData);
      }
      
      updateAttendanceUI();
      updatePoints();
      
      // í¬ì¸íŠ¸ ì‹œìŠ¤í…œì´ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°
      const checkPointSystem = setInterval(() => {
        if (window.pointSystem) {
          updatePoints();
          clearInterval(checkPointSystem);
        }
      }, 100);
    });
  </script>
</body>
</html>
